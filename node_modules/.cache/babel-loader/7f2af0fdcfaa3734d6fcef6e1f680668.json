{"ast":null,"code":"(function (factory) {\n  var L, proj4;\n\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define(['leaflet', 'proj4'], factory);\n  } else if (typeof module === 'object' && typeof module.exports === \"object\") {\n    // Node/CommonJS\n    L = require('leaflet');\n    proj4 = require('proj4');\n    module.exports = factory(L, proj4);\n  } else {\n    // Browser globals\n    if (typeof window.L === 'undefined' || typeof window.proj4 === 'undefined') throw 'Leaflet and proj4 must be loaded first';\n    factory(window.L, window.proj4);\n  }\n})(function (L, proj4) {\n  if (proj4.__esModule && proj4.default) {\n    // If proj4 was bundled as an ES6 module, unwrap it to get\n    // to the actual main proj4 object.\n    // See discussion in https://github.com/kartena/Proj4Leaflet/pull/147\n    proj4 = proj4.default;\n  }\n\n  L.Proj = {};\n\n  L.Proj._isProj4Obj = function (a) {\n    return typeof a.inverse !== 'undefined' && typeof a.forward !== 'undefined';\n  };\n\n  L.Proj.Projection = L.Class.extend({\n    initialize: function initialize(code, def, bounds) {\n      var isP4 = L.Proj._isProj4Obj(code);\n\n      this._proj = isP4 ? code : this._projFromCodeDef(code, def);\n      this.bounds = isP4 ? def : bounds;\n    },\n    project: function project(latlng) {\n      var point = this._proj.forward([latlng.lng, latlng.lat]);\n\n      return new L.Point(point[0], point[1]);\n    },\n    unproject: function unproject(point, unbounded) {\n      var point2 = this._proj.inverse([point.x, point.y]);\n\n      return new L.LatLng(point2[1], point2[0], unbounded);\n    },\n    _projFromCodeDef: function _projFromCodeDef(code, def) {\n      if (def) {\n        proj4.defs(code, def);\n      } else if (proj4.defs[code] === undefined) {\n        var urn = code.split(':');\n\n        if (urn.length > 3) {\n          code = urn[urn.length - 3] + ':' + urn[urn.length - 1];\n        }\n\n        if (proj4.defs[code] === undefined) {\n          throw 'No projection definition for code ' + code;\n        }\n      }\n\n      return proj4(code);\n    }\n  });\n  L.Proj.CRS = L.Class.extend({\n    includes: L.CRS,\n    options: {\n      transformation: new L.Transformation(1, 0, -1, 0)\n    },\n    initialize: function initialize(a, b, c) {\n      var code, proj, def, options;\n\n      if (L.Proj._isProj4Obj(a)) {\n        proj = a;\n        code = proj.srsCode;\n        options = b || {};\n        this.projection = new L.Proj.Projection(proj, options.bounds);\n      } else {\n        code = a;\n        def = b;\n        options = c || {};\n        this.projection = new L.Proj.Projection(code, def, options.bounds);\n      }\n\n      L.Util.setOptions(this, options);\n      this.code = code;\n      this.transformation = this.options.transformation;\n\n      if (this.options.origin) {\n        this.transformation = new L.Transformation(1, -this.options.origin[0], -1, this.options.origin[1]);\n      }\n\n      if (this.options.scales) {\n        this._scales = this.options.scales;\n      } else if (this.options.resolutions) {\n        this._scales = [];\n\n        for (var i = this.options.resolutions.length - 1; i >= 0; i--) {\n          if (this.options.resolutions[i]) {\n            this._scales[i] = 1 / this.options.resolutions[i];\n          }\n        }\n      }\n\n      this.infinite = !this.options.bounds;\n    },\n    scale: function scale(zoom) {\n      var iZoom = Math.floor(zoom),\n          baseScale,\n          nextScale,\n          scaleDiff,\n          zDiff;\n\n      if (zoom === iZoom) {\n        return this._scales[zoom];\n      } else {\n        // Non-integer zoom, interpolate\n        baseScale = this._scales[iZoom];\n        nextScale = this._scales[iZoom + 1];\n        scaleDiff = nextScale - baseScale;\n        zDiff = zoom - iZoom;\n        return baseScale + scaleDiff * zDiff;\n      }\n    },\n    zoom: function zoom(scale) {\n      // Find closest number in this._scales, down\n      var downScale = this._closestElement(this._scales, scale),\n          downZoom = this._scales.indexOf(downScale),\n          nextScale,\n          nextZoom,\n          scaleDiff; // Check if scale is downScale => return array index\n\n\n      if (scale === downScale) {\n        return downZoom;\n      }\n\n      if (downScale === undefined) {\n        return -Infinity;\n      } // Interpolate\n\n\n      nextZoom = downZoom + 1;\n      nextScale = this._scales[nextZoom];\n\n      if (nextScale === undefined) {\n        return Infinity;\n      }\n\n      scaleDiff = nextScale - downScale;\n      return (scale - downScale) / scaleDiff + downZoom;\n    },\n    distance: L.CRS.Earth.distance,\n    R: L.CRS.Earth.R,\n\n    /* Get the closest lowest element in an array */\n    _closestElement: function _closestElement(array, element) {\n      var low;\n\n      for (var i = array.length; i--;) {\n        if (array[i] <= element && (low === undefined || low < array[i])) {\n          low = array[i];\n        }\n      }\n\n      return low;\n    }\n  });\n  L.Proj.GeoJSON = L.GeoJSON.extend({\n    initialize: function initialize(geojson, options) {\n      this._callLevel = 0;\n      L.GeoJSON.prototype.initialize.call(this, geojson, options);\n    },\n    addData: function addData(geojson) {\n      var crs;\n\n      if (geojson) {\n        if (geojson.crs && geojson.crs.type === 'name') {\n          crs = new L.Proj.CRS(geojson.crs.properties.name);\n        } else if (geojson.crs && geojson.crs.type) {\n          crs = new L.Proj.CRS(geojson.crs.type + ':' + geojson.crs.properties.code);\n        }\n\n        if (crs !== undefined) {\n          this.options.coordsToLatLng = function (coords) {\n            var point = L.point(coords[0], coords[1]);\n            return crs.projection.unproject(point);\n          };\n        }\n      } // Base class' addData might call us recursively, but\n      // CRS shouldn't be cleared in that case, since CRS applies\n      // to the whole GeoJSON, inluding sub-features.\n\n\n      this._callLevel++;\n\n      try {\n        L.GeoJSON.prototype.addData.call(this, geojson);\n      } finally {\n        this._callLevel--;\n\n        if (this._callLevel === 0) {\n          delete this.options.coordsToLatLng;\n        }\n      }\n    }\n  });\n\n  L.Proj.geoJson = function (geojson, options) {\n    return new L.Proj.GeoJSON(geojson, options);\n  };\n\n  L.Proj.ImageOverlay = L.ImageOverlay.extend({\n    initialize: function initialize(url, bounds, options) {\n      L.ImageOverlay.prototype.initialize.call(this, url, null, options);\n      this._projectedBounds = bounds;\n    },\n    // Danger ahead: Overriding internal methods in Leaflet.\n    // Decided to do this rather than making a copy of L.ImageOverlay\n    // and doing very tiny modifications to it.\n    // Future will tell if this was wise or not.\n    _animateZoom: function _animateZoom(event) {\n      var scale = this._map.getZoomScale(event.zoom);\n\n      var northWest = L.point(this._projectedBounds.min.x, this._projectedBounds.max.y);\n\n      var offset = this._projectedToNewLayerPoint(northWest, event.zoom, event.center);\n\n      L.DomUtil.setTransform(this._image, offset, scale);\n    },\n    _reset: function _reset() {\n      var zoom = this._map.getZoom();\n\n      var pixelOrigin = this._map.getPixelOrigin();\n\n      var bounds = L.bounds(this._transform(this._projectedBounds.min, zoom)._subtract(pixelOrigin), this._transform(this._projectedBounds.max, zoom)._subtract(pixelOrigin));\n      var size = bounds.getSize();\n      L.DomUtil.setPosition(this._image, bounds.min);\n      this._image.style.width = size.x + 'px';\n      this._image.style.height = size.y + 'px';\n    },\n    _projectedToNewLayerPoint: function _projectedToNewLayerPoint(point, zoom, center) {\n      var viewHalf = this._map.getSize()._divideBy(2);\n\n      var newTopLeft = this._map.project(center, zoom)._subtract(viewHalf)._round();\n\n      var topLeft = newTopLeft.add(this._map._getMapPanePos());\n      return this._transform(point, zoom)._subtract(topLeft);\n    },\n    _transform: function _transform(point, zoom) {\n      var crs = this._map.options.crs;\n      var transformation = crs.transformation;\n      var scale = crs.scale(zoom);\n      return transformation.transform(point, scale);\n    }\n  });\n\n  L.Proj.imageOverlay = function (url, bounds, options) {\n    return new L.Proj.ImageOverlay(url, bounds, options);\n  };\n\n  return L.Proj;\n});","map":{"version":3,"sources":["/Users/belka/Desktop/React/IndigenousPeoplesRussia/node_modules/proj4leaflet/src/proj4leaflet.js"],"names":["factory","L","proj4","define","amd","module","exports","require","window","__esModule","default","Proj","_isProj4Obj","a","inverse","forward","Projection","Class","extend","initialize","code","def","bounds","isP4","_proj","_projFromCodeDef","project","latlng","point","lng","lat","Point","unproject","unbounded","point2","x","y","LatLng","defs","undefined","urn","split","length","CRS","includes","options","transformation","Transformation","b","c","proj","srsCode","projection","Util","setOptions","origin","scales","_scales","resolutions","i","infinite","scale","zoom","iZoom","Math","floor","baseScale","nextScale","scaleDiff","zDiff","downScale","_closestElement","downZoom","indexOf","nextZoom","Infinity","distance","Earth","R","array","element","low","GeoJSON","geojson","_callLevel","prototype","call","addData","crs","type","properties","name","coordsToLatLng","coords","geoJson","ImageOverlay","url","_projectedBounds","_animateZoom","event","_map","getZoomScale","northWest","min","max","offset","_projectedToNewLayerPoint","center","DomUtil","setTransform","_image","_reset","getZoom","pixelOrigin","getPixelOrigin","_transform","_subtract","size","getSize","setPosition","style","width","height","viewHalf","_divideBy","newTopLeft","_round","topLeft","add","_getMapPanePos","transform","imageOverlay"],"mappings":"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","sourcesContent":["(function (factory) {\r\n\tvar L, proj4;\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\t// AMD\r\n\t\tdefine(['leaflet', 'proj4'], factory);\r\n\t} else if (typeof module === 'object' && typeof module.exports === \"object\") {\r\n\t\t// Node/CommonJS\r\n\t\tL = require('leaflet');\r\n\t\tproj4 = require('proj4');\r\n\t\tmodule.exports = factory(L, proj4);\r\n\t} else {\r\n\t\t// Browser globals\r\n\t\tif (typeof window.L === 'undefined' || typeof window.proj4 === 'undefined')\r\n\t\t\tthrow 'Leaflet and proj4 must be loaded first';\r\n\t\tfactory(window.L, window.proj4);\r\n\t}\r\n}(function (L, proj4) {\r\n\tif (proj4.__esModule && proj4.default) {\r\n\t\t// If proj4 was bundled as an ES6 module, unwrap it to get\r\n\t\t// to the actual main proj4 object.\r\n\t\t// See discussion in https://github.com/kartena/Proj4Leaflet/pull/147\r\n\t\tproj4 = proj4.default;\r\n\t}\r\n \r\n\tL.Proj = {};\r\n\r\n\tL.Proj._isProj4Obj = function(a) {\r\n\t\treturn (typeof a.inverse !== 'undefined' &&\r\n\t\t\ttypeof a.forward !== 'undefined');\r\n\t};\r\n\r\n\tL.Proj.Projection = L.Class.extend({\r\n\t\tinitialize: function(code, def, bounds) {\r\n\t\t\tvar isP4 = L.Proj._isProj4Obj(code);\r\n\t\t\tthis._proj = isP4 ? code : this._projFromCodeDef(code, def);\r\n\t\t\tthis.bounds = isP4 ? def : bounds;\r\n\t\t},\r\n\r\n\t\tproject: function (latlng) {\r\n\t\t\tvar point = this._proj.forward([latlng.lng, latlng.lat]);\r\n\t\t\treturn new L.Point(point[0], point[1]);\r\n\t\t},\r\n\r\n\t\tunproject: function (point, unbounded) {\r\n\t\t\tvar point2 = this._proj.inverse([point.x, point.y]);\r\n\t\t\treturn new L.LatLng(point2[1], point2[0], unbounded);\r\n\t\t},\r\n\r\n\t\t_projFromCodeDef: function(code, def) {\r\n\t\t\tif (def) {\r\n\t\t\t\tproj4.defs(code, def);\r\n\t\t\t} else if (proj4.defs[code] === undefined) {\r\n\t\t\t\tvar urn = code.split(':');\r\n\t\t\t\tif (urn.length > 3) {\r\n\t\t\t\t\tcode = urn[urn.length - 3] + ':' + urn[urn.length - 1];\r\n\t\t\t\t}\r\n\t\t\t\tif (proj4.defs[code] === undefined) {\r\n\t\t\t\t\tthrow 'No projection definition for code ' + code;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn proj4(code);\r\n\t\t}\r\n\t});\r\n\r\n\tL.Proj.CRS = L.Class.extend({\r\n\t\tincludes: L.CRS,\r\n\r\n\t\toptions: {\r\n\t\t\ttransformation: new L.Transformation(1, 0, -1, 0)\r\n\t\t},\r\n\r\n\t\tinitialize: function(a, b, c) {\r\n\t\t\tvar code,\r\n\t\t\t    proj,\r\n\t\t\t    def,\r\n\t\t\t    options;\r\n\r\n\t\t\tif (L.Proj._isProj4Obj(a)) {\r\n\t\t\t\tproj = a;\r\n\t\t\t\tcode = proj.srsCode;\r\n\t\t\t\toptions = b || {};\r\n\r\n\t\t\t\tthis.projection = new L.Proj.Projection(proj, options.bounds);\r\n\t\t\t} else {\r\n\t\t\t\tcode = a;\r\n\t\t\t\tdef = b;\r\n\t\t\t\toptions = c || {};\r\n\t\t\t\tthis.projection = new L.Proj.Projection(code, def, options.bounds);\r\n\t\t\t}\r\n\r\n\t\t\tL.Util.setOptions(this, options);\r\n\t\t\tthis.code = code;\r\n\t\t\tthis.transformation = this.options.transformation;\r\n\r\n\t\t\tif (this.options.origin) {\r\n\t\t\t\tthis.transformation =\r\n\t\t\t\t\tnew L.Transformation(1, -this.options.origin[0],\r\n\t\t\t\t\t\t-1, this.options.origin[1]);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.options.scales) {\r\n\t\t\t\tthis._scales = this.options.scales;\r\n\t\t\t} else if (this.options.resolutions) {\r\n\t\t\t\tthis._scales = [];\r\n\t\t\t\tfor (var i = this.options.resolutions.length - 1; i >= 0; i--) {\r\n\t\t\t\t\tif (this.options.resolutions[i]) {\r\n\t\t\t\t\t\tthis._scales[i] = 1 / this.options.resolutions[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.infinite = !this.options.bounds;\r\n\r\n\t\t},\r\n\r\n\t\tscale: function(zoom) {\r\n\t\t\tvar iZoom = Math.floor(zoom),\r\n\t\t\t\tbaseScale,\r\n\t\t\t\tnextScale,\r\n\t\t\t\tscaleDiff,\r\n\t\t\t\tzDiff;\r\n\t\t\tif (zoom === iZoom) {\r\n\t\t\t\treturn this._scales[zoom];\r\n\t\t\t} else {\r\n\t\t\t\t// Non-integer zoom, interpolate\r\n\t\t\t\tbaseScale = this._scales[iZoom];\r\n\t\t\t\tnextScale = this._scales[iZoom + 1];\r\n\t\t\t\tscaleDiff = nextScale - baseScale;\r\n\t\t\t\tzDiff = (zoom - iZoom);\r\n\t\t\t\treturn baseScale + scaleDiff * zDiff;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tzoom: function(scale) {\r\n\t\t\t// Find closest number in this._scales, down\r\n\t\t\tvar downScale = this._closestElement(this._scales, scale),\r\n\t\t\t\tdownZoom = this._scales.indexOf(downScale),\r\n\t\t\t\tnextScale,\r\n\t\t\t\tnextZoom,\r\n\t\t\t\tscaleDiff;\r\n\t\t\t// Check if scale is downScale => return array index\r\n\t\t\tif (scale === downScale) {\r\n\t\t\t\treturn downZoom;\r\n\t\t\t}\r\n\t\t\tif (downScale === undefined) {\r\n\t\t\t\treturn -Infinity;\r\n\t\t\t}\r\n\t\t\t// Interpolate\r\n\t\t\tnextZoom = downZoom + 1;\r\n\t\t\tnextScale = this._scales[nextZoom];\r\n\t\t\tif (nextScale === undefined) {\r\n\t\t\t\treturn Infinity;\r\n\t\t\t}\r\n\t\t\tscaleDiff = nextScale - downScale;\r\n\t\t\treturn (scale - downScale) / scaleDiff + downZoom;\r\n\t\t},\r\n\r\n\t\tdistance: L.CRS.Earth.distance,\r\n\r\n\t\tR: L.CRS.Earth.R,\r\n\r\n\t\t/* Get the closest lowest element in an array */\r\n\t\t_closestElement: function(array, element) {\r\n\t\t\tvar low;\r\n\t\t\tfor (var i = array.length; i--;) {\r\n\t\t\t\tif (array[i] <= element && (low === undefined || low < array[i])) {\r\n\t\t\t\t\tlow = array[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn low;\r\n\t\t}\r\n\t});\r\n\r\n\tL.Proj.GeoJSON = L.GeoJSON.extend({\r\n\t\tinitialize: function(geojson, options) {\r\n\t\t\tthis._callLevel = 0;\r\n\t\t\tL.GeoJSON.prototype.initialize.call(this, geojson, options);\r\n\t\t},\r\n\r\n\t\taddData: function(geojson) {\r\n\t\t\tvar crs;\r\n\r\n\t\t\tif (geojson) {\r\n\t\t\t\tif (geojson.crs && geojson.crs.type === 'name') {\r\n\t\t\t\t\tcrs = new L.Proj.CRS(geojson.crs.properties.name);\r\n\t\t\t\t} else if (geojson.crs && geojson.crs.type) {\r\n\t\t\t\t\tcrs = new L.Proj.CRS(geojson.crs.type + ':' + geojson.crs.properties.code);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (crs !== undefined) {\r\n\t\t\t\t\tthis.options.coordsToLatLng = function(coords) {\r\n\t\t\t\t\t\tvar point = L.point(coords[0], coords[1]);\r\n\t\t\t\t\t\treturn crs.projection.unproject(point);\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Base class' addData might call us recursively, but\r\n\t\t\t// CRS shouldn't be cleared in that case, since CRS applies\r\n\t\t\t// to the whole GeoJSON, inluding sub-features.\r\n\t\t\tthis._callLevel++;\r\n\t\t\ttry {\r\n\t\t\t\tL.GeoJSON.prototype.addData.call(this, geojson);\r\n\t\t\t} finally {\r\n\t\t\t\tthis._callLevel--;\r\n\t\t\t\tif (this._callLevel === 0) {\r\n\t\t\t\t\tdelete this.options.coordsToLatLng;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tL.Proj.geoJson = function(geojson, options) {\r\n\t\treturn new L.Proj.GeoJSON(geojson, options);\r\n\t};\r\n\r\n\tL.Proj.ImageOverlay = L.ImageOverlay.extend({\r\n\t\tinitialize: function (url, bounds, options) {\r\n\t\t\tL.ImageOverlay.prototype.initialize.call(this, url, null, options);\r\n\t\t\tthis._projectedBounds = bounds;\r\n\t\t},\r\n\r\n\t\t// Danger ahead: Overriding internal methods in Leaflet.\r\n\t\t// Decided to do this rather than making a copy of L.ImageOverlay\r\n\t\t// and doing very tiny modifications to it.\r\n\t\t// Future will tell if this was wise or not.\r\n\t\t_animateZoom: function (event) {\r\n\t\t\tvar scale = this._map.getZoomScale(event.zoom);\r\n\t\t\tvar northWest = L.point(this._projectedBounds.min.x, this._projectedBounds.max.y);\r\n\t\t\tvar offset = this._projectedToNewLayerPoint(northWest, event.zoom, event.center);\r\n\r\n\t\t\tL.DomUtil.setTransform(this._image, offset, scale);\r\n\t\t},\r\n\r\n\t\t_reset: function () {\r\n\t\t\tvar zoom = this._map.getZoom();\r\n\t\t\tvar pixelOrigin = this._map.getPixelOrigin();\r\n\t\t\tvar bounds = L.bounds(\r\n\t\t\t\tthis._transform(this._projectedBounds.min, zoom)._subtract(pixelOrigin),\r\n\t\t\t\tthis._transform(this._projectedBounds.max, zoom)._subtract(pixelOrigin)\r\n\t\t\t);\r\n\t\t\tvar size = bounds.getSize();\r\n\r\n\t\t\tL.DomUtil.setPosition(this._image, bounds.min);\r\n\t\t\tthis._image.style.width = size.x + 'px';\r\n\t\t\tthis._image.style.height = size.y + 'px';\r\n\t\t},\r\n\r\n\t\t_projectedToNewLayerPoint: function (point, zoom, center) {\r\n\t\t\tvar viewHalf = this._map.getSize()._divideBy(2);\r\n\t\t\tvar newTopLeft = this._map.project(center, zoom)._subtract(viewHalf)._round();\r\n\t\t\tvar topLeft = newTopLeft.add(this._map._getMapPanePos());\r\n\r\n\t\t\treturn this._transform(point, zoom)._subtract(topLeft);\r\n\t\t},\r\n\r\n\t\t_transform: function (point, zoom) {\r\n\t\t\tvar crs = this._map.options.crs;\r\n\t\t\tvar transformation = crs.transformation;\r\n\t\t\tvar scale = crs.scale(zoom);\r\n\r\n\t\t\treturn transformation.transform(point, scale);\r\n\t\t}\r\n\t});\r\n\r\n\tL.Proj.imageOverlay = function (url, bounds, options) {\r\n\t\treturn new L.Proj.ImageOverlay(url, bounds, options);\r\n\t};\r\n\r\n\treturn L.Proj;\r\n}));\r\n"]},"metadata":{},"sourceType":"script"}