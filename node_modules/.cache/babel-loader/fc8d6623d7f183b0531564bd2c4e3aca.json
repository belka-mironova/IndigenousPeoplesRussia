{"ast":null,"code":"var _jsxFileName = \"/Users/belka/Desktop/React/IndigenousPeoplesRussia/src/components/PeoplesMapInfo.jsx\";\nimport React from \"react\";\nimport { useRef, useState } from \"react\";\nimport L from \"leaflet\";\nimport { GeoJSON } from \"react-leaflet\";\nimport * as myConstClass from \"./constants.js\";\nimport nations from \"../data/nations.json\";\nexport default function PeoplesMapInfo() {\n  var selected = null;\n\n  var HighlightFeature = function HighlightFeature(layer) {\n    if (selected == null || selected._leaflet_id !== layer._leaflet_id) {\n      layer.setStyle({\n        /*weight: 3,\n        color: 'white',*/\n        weight: 1.5,\n        dashArray: \"\",\n        fillOpacity: 0.9\n      });\n      /*layer.bindTooltip(feature.properties.Nation, {permanent: true, direction: 'center', position:'auto'}).openTooltip(); */\n\n      if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {\n        layer.bringToFront();\n      }\n    }\n  };\n\n  var geoJsonRef = useRef();\n\n  var ResetHighlight = function ResetHighlight(layer) {\n    if (selected == null || selected._leaflet_id !== layer._leaflet_id) {\n      geoJsonRef.current.resetStyle(layer);\n    }\n  };\n\n  var Select = function Select(layer) {\n    if (selected !== null) {\n      var previous = selected;\n    }\n\n    SetInfo(layer.feature.properties);\n    info = layer.feature.properties;\n    layer.setStyle({\n      weight: 3,\n      color: \"white\",\n      fillOpacity: 1\n    });\n    selected = layer;\n\n    if (previous) {\n      ResetHighlight(previous);\n    }\n  };\n\n  var onEachFeatureF = function onEachFeatureF(feature, layer) {\n    layer.on({\n      click: function click(e) {\n        Select(e.target);\n        SetAnswer(e.target.feature.properties.Nation); // console.log(info);\n      },\n      mouseover: function mouseover(e) {\n        HighlightFeature(e.target);\n      },\n      mouseout: function mouseout(e) {\n        ResetHighlight(e.target);\n      }\n    }); //layer.bindPopup(\"ID: \" + feature.properties.fid+ \"<br>Народ: \" + feature.properties.Nation + \"<br>Описание: \" + feature.properties.Nation);\n\n    layer.bindTooltip(feature.properties.Nation, {\n      permanent: true,\n      direction: \"center\",\n      position: \"auto\"\n    }).openTooltip();\n  };\n\n  return /*#__PURE__*/React.createElement(GeoJSON, {\n    data: nations,\n    style: myConstClass.subteStyle,\n    onEachFeature: onEachFeatureF,\n    ref: geoJsonRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  });\n}","map":{"version":3,"sources":["/Users/belka/Desktop/React/IndigenousPeoplesRussia/src/components/PeoplesMapInfo.jsx"],"names":["React","useRef","useState","L","GeoJSON","myConstClass","nations","PeoplesMapInfo","selected","HighlightFeature","layer","_leaflet_id","setStyle","weight","dashArray","fillOpacity","Browser","ie","opera","edge","bringToFront","geoJsonRef","ResetHighlight","current","resetStyle","Select","previous","SetInfo","feature","properties","info","color","onEachFeatureF","on","click","e","target","SetAnswer","Nation","mouseover","mouseout","bindTooltip","permanent","direction","position","openTooltip","subteStyle"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { useRef, useState } from \"react\";\nimport L from \"leaflet\";\nimport { GeoJSON } from \"react-leaflet\";\nimport * as myConstClass from \"./constants.js\";\nimport nations from \"../data/nations.json\";\n\nexport default function PeoplesMapInfo() {\n    let selected = null;\n    const HighlightFeature = (layer) => {\n        if (selected == null || selected._leaflet_id !== layer._leaflet_id) {\n          layer.setStyle({\n            /*weight: 3,\n            color: 'white',*/\n            weight: 1.5,\n            dashArray: \"\",\n            fillOpacity: 0.9,\n          });\n          /*layer.bindTooltip(feature.properties.Nation, {permanent: true, direction: 'center', position:'auto'}).openTooltip(); */\n    \n          if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {\n            layer.bringToFront();\n          }\n        }\n      };\n    \n      const geoJsonRef = useRef();\n    \n      const ResetHighlight = (layer) => {\n        if (selected == null || selected._leaflet_id !== layer._leaflet_id) {\n          geoJsonRef.current.resetStyle(layer);\n        }\n      };\n    \n      const Select = (layer) => {\n        if (selected !== null) {\n          var previous = selected;\n        }\n        SetInfo(layer.feature.properties);\n        info = layer.feature.properties;\n    \n        layer.setStyle({\n          weight: 3,\n          color: \"white\",\n          fillOpacity: 1,\n        });\n    \n        selected = layer;\n        if (previous) {\n          ResetHighlight(previous);\n        }\n      };\n    \n      const onEachFeatureF = (feature, layer) => {\n        layer.on({\n          click: function (e) {\n            Select(e.target);\n            SetAnswer(e.target.feature.properties.Nation);\n            // console.log(info);\n          },\n          mouseover: function (e) {\n            HighlightFeature(e.target);\n          },\n          mouseout: function (e) {\n            ResetHighlight(e.target);\n          },\n        });\n        //layer.bindPopup(\"ID: \" + feature.properties.fid+ \"<br>Народ: \" + feature.properties.Nation + \"<br>Описание: \" + feature.properties.Nation);\n    \n        layer\n          .bindTooltip(feature.properties.Nation, {\n            permanent: true,\n            direction: \"center\",\n            position: \"auto\",\n          })\n          .openTooltip();\n      };\n\n\n\n  return (\n    <GeoJSON\n      data={nations}\n      style={myConstClass.subteStyle}\n      onEachFeature={onEachFeatureF}\n      ref={geoJsonRef}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}